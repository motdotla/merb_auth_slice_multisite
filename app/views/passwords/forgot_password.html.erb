<% @login_param = Merb::Authentication::Strategies::Multisite::Base.login_param %>
<% @site_id_param = Merb::Authentication::Strategies::Multisite::Base.site_id_param %>
<% 
# make @current_site value. application.rb does not get call 
# because the authentication is protected at the rack level - which is better, 
# but it means I have to add the following duplicate line of code as far as I know.
@current_site = Site.first(:subdomain => request.first_subdomain)
%>

<form action="" method="post">
	<input type="hidden" name="<%= @site_id_param.to_s %>" value="<%= @current_site.id %>" id="<%= @site_id_param.to_s %>">
  <input type="hidden" name="_method" value="PUT" />
  <p>
    <label for="<%= @login_param.to_s %>"><%= @login_param.to_s.capitalize.t %></label>
    <input type="text" class="text" name="<%= @login_param.to_s %>" id="<%= @login_param.to_s %>" />
  </p>
  <input type="submit" value="Reset password" />
</form>